var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,d=(t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,l=(e,t)=>{for(var r in t||(t={}))n.call(t,r)&&d(e,r,t[r]);if(s)for(var r of s(t))a.call(t,r)&&d(e,r,t[r]);return e},i=(e,s)=>t(e,r(s)),o=(e,t)=>{var r={};for(var d in e)n.call(e,d)&&t.indexOf(d)<0&&(r[d]=e[d]);if(null!=e&&s)for(var d of s(e))t.indexOf(d)<0&&a.call(e,d)&&(r[d]=e[d]);return r},c=(e,t,r)=>new Promise(((s,n)=>{var a=e=>{try{l(r.next(e))}catch(t){n(t)}},d=e=>{try{l(r.throw(e))}catch(t){n(t)}},l=e=>e.done?s(e.value):Promise.resolve(e.value).then(a,d);l((r=r.apply(e,t)).next())}));import{j as x,X as h,c as g,L as m,d as b,C as u,e as v,f as p,g as j,h as k,i as N,U as f,D as y,R as w,k as A,l as D,m as E,Y as S,T,n as L,o as C,p as F,P as U,q as I,r as O,s as _,A as P,t as B}from"../vendor/ui-vendor-odwtWphe.js";import{C as $,u as z,T as R,S as M}from"../index-BFy2tfFm.js";import{r as V,b as G,u as q,L as H,O as K,R as Y,d as W,e as J,N as Q}from"../vendor/react-vendor-D7383juu.js";import{u as X}from"./useConfig-Bpyg_xQl.js";import"../vendor/auth-vendor-sPk1YpsG.js";const Z={fetch:(e,...t)=>c(void 0,[e,...t],(function*(e,t={}){try{let r=l({"Content-Type":"application/json"},t.headers);if(!t.public){const e=JSON.parse(localStorage.getItem("user"));if(!(null==e?void 0:e.token))throw new Error("No authentication token available");r.Authorization=`Bearer ${e.token}`}const s=yield fetch(`${$.API_URL}${e}`,i(l({},t),{headers:r}));if(401===s.status&&!t.public)throw localStorage.removeItem("user"),new Error("Authentication token invalid");const n=yield s.json();if(!s.ok)throw new Error(n.error||"API request failed");return n}catch(r){throw r}})),get:(e,t={})=>Z.fetch(e,l({method:"GET"},t)),post:(e,t,r={})=>Z.fetch(e,l({method:"POST",body:JSON.stringify(t)},r)),put:(e,t,r={})=>Z.fetch(e,l({method:"PUT",body:JSON.stringify(t)},r)),delete:(e,t={})=>Z.fetch(e,l({method:"DELETE"},t))},ee=()=>{const[e,t]=V.useState(!0),r=G(),s=q(),{user:n,login:a,logout:d}=z(),l=[{icon:x.jsx(b,{size:20}),label:"Dashboard",path:"/admin"},{icon:x.jsx(u,{size:20}),label:"Bookings",path:"/admin/bookings"},{icon:x.jsx(v,{size:20}),label:"Services",path:"/admin/services"},{icon:x.jsx(p,{size:20}),label:"Configurations",path:"/admin/config"}];V.useEffect((()=>{n||s("/login")}),[n,s]);return x.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-stone-900",children:[x.jsx("button",{onClick:()=>t(!e),className:"lg:hidden fixed top-4 left-4 z-50 p-2 \n        bg-background-light dark:bg-stone-800 rounded-md \n        border border-border-light dark:border-stone-700 shadow-sm",children:e?x.jsx(h,{size:24}):x.jsx(g,{size:24})}),x.jsxs("div",{className:`\n        fixed top-0 left-0 h-full w-64 \n        bg-background-DEFAULT dark:bg-stone-900 \n        border-r border-border-light dark:border-stone-800\n        transition-transform duration-300 ease-in-out z-40\n        ${e?"translate-x-0":"-translate-x-full"} lg:translate-x-0\n      `,children:[x.jsxs("div",{className:"p-6 border-b border-border-light dark:border-stone-800",children:[x.jsx("h1",{className:"text-2xl font-bold text-primary-light dark:text-orange-500",children:"Admin Panel"}),x.jsx("p",{className:"text-sm text-content-light dark:text-stone-400",children:"Manage your services and bookings"})]}),x.jsxs("nav",{className:"mt-6",children:[l.map((e=>{return x.jsxs(H,{to:e.path,className:`\n              flex items-center gap-3 px-6 py-3 text-sm transition-colors\n              ${t=e.path,r.pathname===t?"bg-primary-light/10 text-primary-dark border-r-2 border-primary-light dark:bg-orange-500/10 dark:text-orange-500 dark:border-orange-500":"text-content-DEFAULT hover:bg-background-dark dark:text-stone-400 dark:hover:bg-stone-800"}\n            `,children:[e.icon,e.label]},e.path);var t})),n&&x.jsxs("button",{onClick:d,className:"flex items-center gap-3 px-6 py-3 text-sm \n              text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 \n              transition-colors",children:[x.jsx(m,{size:20}),"Logout"]})]})]}),x.jsx("div",{className:"lg:ml-64 min-h-screen transition-all duration-300 "+(e?"ml-64":"ml-0"),children:x.jsx("div",{className:"p-8",children:x.jsx(K,{})})})]})},te=()=>{const[e,t]=V.useState([]),[r,s]=V.useState(new Date),[n,a]=V.useState(!0),[d,l]=V.useState((new Date).getDay());V.useEffect((()=>{i()}),[r]);const i=()=>c(void 0,null,(function*(){try{a(!0);const e=o(r),s=h(r),n=yield Z.get(`${$.ENDPOINTS.ADMIN.BOOKINGS.WEEKLY}?startDate=${e.toISOString()}&endDate=${s.toISOString()}`);n.success&&t(n.data)}catch(e){}finally{a(!1)}})),o=e=>{const t=new Date(e);return t.setDate(t.getDate()-t.getDay()),t.setHours(0,0,0,0),t},h=e=>{const t=new Date(e);return t.setDate(t.getDate()-t.getDay()+6),t.setHours(23,59,59,999),t},g=e=>{const t=new Date(r);t.setDate(t.getDate()+("next"===e?7:-7)),s(t)},m=e=>{l("next"===e?(d+1)%7:(d-1+7)%7)},b=e=>{var t,r;return x.jsxs("div",{className:"p-3 rounded-lg bg-background-DEFAULT dark:bg-stone-800 border border-border-light dark:border-stone-700",children:[x.jsx("p",{className:"text-sm font-medium text-content-dark dark:text-white mb-1",children:new Date(e.dateTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}),x.jsxs("p",{className:"text-sm text-content-DEFAULT dark:text-stone-300",children:[e.name," • ",e.confirmationNumber]}),x.jsx("p",{className:"text-xs text-content-light dark:text-stone-400",children:e.contact}),x.jsxs("p",{className:"text-xs text-content-light dark:text-stone-400",children:[e.vehicleType," - ",e.makeModel]}),x.jsxs("p",{className:"text-xs text-content-light dark:text-stone-400",children:[e.serviceName," - $",e.servicePrice," • Scent: ",e.selectedScent]}),(null==(t=e.optionalServices)?void 0:t.length)>0&&x.jsxs("div",{className:"mt-2 pt-2 border-t border-border-light dark:border-stone-700",children:[x.jsx("p",{className:"text-xs font-medium text-content-DEFAULT dark:text-stone-300",children:"Add-ons:"}),e.optionalServices.map(((e,t)=>x.jsxs("p",{className:"text-xs text-content-light dark:text-stone-400 ml-2",children:["• ",e.name," ($",e.price,")"]},t)))]}),x.jsx("span",{className:`inline-flex items-center px-2 py-0.5 mt-2 text-xs font-medium rounded-full ${r=e.status,{pending:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400",confirmed:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",in_progress:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",completed:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}[null==r?void 0:r.toLowerCase()]||"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}`,children:e.status})]})},v=t=>{const r=(t=>e.filter((e=>new Date(e.dateTime).toDateString()===t.toDateString())).sort(((e,t)=>new Date(e.dateTime).getTime()-new Date(t.dateTime).getTime())))(t);return x.jsxs("div",{className:"flex-1 min-w-[300px] p-4 border-r last:border-r-0 border-border-light dark:border-stone-700",children:[x.jsx("h3",{className:"font-medium text-content-dark dark:text-white mb-2",children:t.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),x.jsx("div",{className:"space-y-3",children:r.length>0?r.map(((e,t)=>x.jsx("div",{children:b(e)},t))):x.jsxs("div",{className:"flex flex-col items-center justify-center py-4 text-content-light dark:text-stone-400",children:[x.jsx(u,{className:"w-5 h-5 mb-1 opacity-50"}),x.jsx("span",{className:"text-sm",children:"No appointments"})]})})]})};if(n)return x.jsx("div",{className:"flex justify-center items-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-light dark:border-orange-500"})});const p=o(r),N=Array.from({length:7},((e,t)=>{const r=new Date(p);return r.setDate(p.getDate()+t),r}));return x.jsxs("div",{className:"bg-background-light dark:bg-stone-800 rounded-lg border border-border-light dark:border-stone-700",children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border-light dark:border-stone-700",children:[x.jsx("h3",{className:"text-xl font-bold text-content-dark dark:text-white",children:"Weekly Appointments"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:()=>g("prev"),className:"p-1 hover:bg-background-dark dark:hover:bg-stone-700 rounded-lg transition-colors",children:x.jsx(j,{className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>g("next"),className:"p-1 hover:bg-background-dark dark:hover:bg-stone-700 rounded-lg transition-colors",children:x.jsx(k,{className:"w-5 h-5"})})]})]}),x.jsx("div",{className:"hidden md:block p-4",children:x.jsx("div",{className:"overflow-x-auto",children:x.jsx("div",{className:"flex min-w-[2100px]",children:N.map(((e,t)=>x.jsx("div",{className:"flex-1",children:v(e)},t)))})})}),x.jsxs("div",{className:"md:hidden",children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border-light dark:border-stone-700",children:[x.jsx("button",{onClick:()=>m("prev"),className:"p-1 hover:bg-background-dark dark:hover:bg-stone-700 rounded-lg transition-colors",children:x.jsx(j,{className:"w-5 h-5"})}),x.jsx("h4",{className:"font-medium",children:N[d].toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}),x.jsx("button",{onClick:()=>m("next"),className:"p-1 hover:bg-background-dark dark:hover:bg-stone-700 rounded-lg transition-colors",children:x.jsx(k,{className:"w-5 h-5"})})]}),x.jsx("div",{className:"p-4",children:v(N[d])})]})]})},re=()=>{const e=R.isDark,[t,r]=V.useState({totalBookings:0,pendingBookings:0,completedBookings:0,totalRevenue:0,recentBookings:[],dailyBookings:[]}),[s,n]=V.useState(!0),[a,d]=V.useState(null),l=q();V.useEffect((()=>{i()}),[]);const i=()=>c(void 0,null,(function*(){try{n(!0),d(null);const e=yield Z.get($.ENDPOINTS.ADMIN.DASHBOARD);e.success&&r(e.stats)}catch(e){"No token, authorization denied"===e.message?l("/login"):d(e.message)}finally{n(!1)}})),o=({title:e,value:t,icon:r,trend:s})=>x.jsx("div",{className:"bg-background-light dark:bg-stone-800 p-6 rounded-lg \n                    border border-border-light dark:border-stone-700",children:x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-content-light dark:text-stone-400 text-sm",children:e}),x.jsx("p",{className:"text-2xl font-bold text-content-dark dark:text-white mt-2",children:t}),s&&x.jsxs("p",{className:"text-sm mt-2 "+(s>=0?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400"),children:[s>=0?"+":"",s,"% from last week"]})]}),x.jsx("div",{className:"p-3 bg-primary-light/10 dark:bg-orange-500/10 rounded-lg",children:x.jsx(r,{className:"w-5 h-5 text-primary-DEFAULT dark:text-orange-500"})})]})});return s?x.jsx("div",{className:"flex justify-center items-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-light dark:border-orange-500"})}):a?x.jsx("div",{className:"text-red-500 text-center p-4 bg-red-50 rounded-lg",children:a}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h1",{className:"text-2xl font-bold text-content-dark",children:"Dashboard"}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx("button",{onClick:i,className:"px-4 py-2 text-sm bg-primary-light text-white rounded-lg hover:bg-primary-DEFAULT transition-colors",children:"Refresh Data"}),x.jsx("button",{onClick:()=>c(void 0,null,(function*(){if(window.confirm("Are you sure you want to delete ALL bookings? This action cannot be undone."))try{(yield Z.delete($.ENDPOINTS.ADMIN.BOOKINGS.DELETE_ALL)).success&&(yield i(),alert("All bookings have been deleted successfully"))}catch(e){alert("Failed to delete bookings")}})),className:"px-4 py-2 text-sm bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Delete All Bookings"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[x.jsx(o,{title:"Total Bookings",value:t.totalBookings,icon:u,trend:5}),x.jsx(o,{title:"Pending Bookings",value:t.pendingBookings,icon:N,trend:-2}),x.jsx(o,{title:"Completed Bookings",value:t.completedBookings,icon:f,trend:8}),x.jsx(o,{title:"Total Revenue",value:`$${t.totalRevenue||0}`,icon:y,trend:12})]}),x.jsx("div",{className:"mt-6",children:x.jsx(te,{})}),x.jsxs("div",{className:"h-[400px] bg-background-light dark:bg-stone-800 rounded-lg p-6 \n                border border-border-light dark:border-stone-700",children:[x.jsx("h3",{className:"text-lg font-semibold mb-4 text-content-dark dark:text-white",children:"Daily Bookings"}),x.jsx(w,{width:"100%",height:"100%",children:x.jsxs(A,{data:t.dailyBookings,children:[x.jsx(D,{strokeDasharray:"3 3",stroke:"#e2e8f0",strokeOpacity:e?.1:1}),x.jsx(E,{dataKey:"date",tick:{fill:e?"#94a3b8":"#64748b"},axisLine:{stroke:e?"#334155":"#cbd5e1"}}),x.jsx(S,{tick:{fill:e?"#94a3b8":"#64748b"},axisLine:{stroke:e?"#334155":"#cbd5e1"}}),x.jsx(T,{contentStyle:{backgroundColor:e?"#1c1917":"#ffffff",border:"1px solid "+(e?"#334155":"#e2e8f0"),borderRadius:"0.5rem",color:e?"#ffffff":"#0f172a"}}),x.jsx(L,{dataKey:"bookings",fill:e?"#f97316":"#0cc0df",radius:[4,4,0,0]})]})})]}),x.jsxs("div",{className:"bg-background-light dark:bg-stone-800 rounded-lg \n                border border-border-light dark:border-stone-700",children:[x.jsx("div",{className:"p-6 border-b border-border-light dark:border-stone-700",children:x.jsx("h3",{className:"text-lg font-semibold text-content-dark dark:text-white",children:"Recent Bookings"})}),x.jsx("div",{className:"divide-y divide-border-light",children:t.recentBookings.map((e=>x.jsx("div",{className:"p-6 hover:bg-background-dark transition-colors",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-content-DEFAULT",children:e.customerName}),x.jsx("p",{className:"text-sm text-content-light mt-1",children:e.service}),x.jsxs("p",{className:"text-sm text-primary-DEFAULT mt-1",children:["$",e.totalPrice]})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("span",{className:"px-2 py-1 text-xs rounded-full "+("completed"===e.status?"bg-green-100 text-green-700":"pending"===e.status?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"),children:e.status}),x.jsx("p",{className:"text-sm text-content-light mt-2",children:e.date})]})]})},e.id)))})]})]})},se=e=>{var t=e,{children:r,className:s=""}=t,n=o(t,["children","className"]);return x.jsx("table",i(l({className:`w-full caption-bottom text-sm ${s}`},n),{children:r}))},ne=e=>{var t=e,{children:r,className:s=""}=t,n=o(t,["children","className"]);return x.jsx("thead",i(l({className:`border-b border-border-DEFAULT bg-background-dark \n  dark:border-stone-800 dark:bg-stone-900${s}`},n),{children:r}))},ae=e=>{var t=e,{children:r,className:s=""}=t,n=o(t,["children","className"]);return x.jsx("tbody",i(l({className:`${s}`},n),{children:r}))},de=e=>{var t=e,{children:r,className:s=""}=t,n=o(t,["children","className"]);return x.jsx("tr",i(l({className:`\n    border-b border-border-light \n    dark:border-stone-800\n    transition-colors \n    hover:bg-background-dark/50\n    dark:hover:bg-stone-800/50\n      ${s}\n    `},n),{children:r}))},le=e=>{var t=e,{children:r,className:s=""}=t,n=o(t,["children","className"]);return x.jsx("th",i(l({className:`\n    h-12 px-4 \n    text-left align-middle \n    font-medium \n    text-content-light\n    dark:text-stone-400\n      ${s}\n    `},n),{children:r}))},ie=e=>{var t=e,{children:r,className:s=""}=t,n=o(t,["children","className"]);return x.jsx("td",i(l({className:`\n    p-4 \n    align-middle \n    text-content-DEFAULT\n    dark:text-white\n      ${s}\n    `},n),{children:r}))},oe=Y.forwardRef(((e,t)=>{var r=e,{className:s="",type:n="text"}=r,a=o(r,["className","type"]);return x.jsx("input",l({type:n,className:`flex h-10 w-full rounded-md \n      border border-border-DEFAULT dark:border-stone-700\n  bg-background-light dark:bg-stone-800\n  px-3 py-2 text-sm text-content-DEFAULT dark:text-white\n  file:border-0 file:bg-transparent file:text-sm file:font-medium\n  placeholder:text-content-light dark:placeholder:text-stone-500\n  focus-visible:outline-none focus-visible:ring-2 \n  focus-visible:ring-primary-light dark:focus-visible:ring-orange-500 \n  focus-visible:ring-offset-2\n  disabled:cursor-not-allowed disabled:opacity-50\n  hover:border-border-dark dark:hover:border-stone-600\n      ${s}`,ref:t},a))}));oe.displayName="Input";const ce=({children:e,content:t})=>{const[r,s]=V.useState(!1),[n,a]=V.useState({top:0,left:0}),d=V.useRef(null),l=V.useRef(null),i=()=>{if(r&&d.current&&l.current){const e=l.current.getBoundingClientRect(),t=d.current.getBoundingClientRect();let r=e.bottom+10,s=e.left;s+t.width>window.innerWidth&&(s=window.innerWidth-t.width-10),r+t.height>window.innerHeight&&(r=e.top-t.height-10),a({top:r,left:Math.max(10,s)})}};return V.useEffect((()=>{if(r)return i(),window.addEventListener("resize",i),window.addEventListener("scroll",i),()=>{window.removeEventListener("resize",i),window.removeEventListener("scroll",i)}}),[r]),x.jsxs("div",{className:"relative inline-block",ref:l,children:[x.jsx("div",{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),className:"cursor-pointer",children:e}),r&&x.jsx("div",{ref:d,style:{position:"fixed",top:`${n.top}px`,left:`${n.left}px`},className:"z-50 w-64 p-2 text-sm bg-background-light dark:bg-stone-800 \n          border border-border-DEFAULT dark:border-stone-700 \n          rounded-lg shadow-lg text-content-DEFAULT dark:text-white",children:t})]})},xe=()=>{var e;const[t,r]=V.useState([]),[s,n]=V.useState(!0),[a,d]=V.useState(""),[o,h]=V.useState("all"),[g,m]=V.useState(null),[b,u]=V.useState(null),[v,p]=V.useState(""),[j,k]=V.useState(!1);V.useEffect((()=>{N()}),[]);const N=()=>c(void 0,null,(function*(){try{n(!0);const e=yield Z.get($.ENDPOINTS.BOOKINGS.BASE);e.success&&r(e.data)}catch(e){e.message.includes("token")&&(window.location.href="/login")}finally{n(!1)}})),f=()=>{k(!1),m(null),u(null),p("")},y=(e="pending")=>({pending:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400",confirmed:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",in_progress:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",completed:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}[e.toLowerCase()]||"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"),w=t.filter((e=>{var t;const r=((null==(t=e.name)?void 0:t.toLowerCase())||"").includes(a.toLowerCase())||(e.contact||"").includes(a)||(e.confirmationNumber||"").includes(a);return"all"===o?r:r&&e.status===o}));return s?x.jsx("div",{className:"flex justify-center items-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 \n                        border-primary-light dark:border-orange-500"})}):x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"flex justify-between items-center",children:x.jsx("h1",{className:"text-2xl font-bold text-content-dark dark:text-white",children:"Booking Management"})}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[x.jsxs("div",{className:"relative flex-1",children:[x.jsx(C,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-content-light"}),x.jsx(oe,{type:"text",placeholder:"Search by name, phone, or confirmation number...",value:a,onChange:e=>d(e.target.value),className:"pl-10 w-full"})]}),x.jsxs("select",{value:o,onChange:e=>h(e.target.value),className:"px-4 py-2 bg-background-light dark:bg-stone-800 \n                     rounded-lg border border-border-DEFAULT dark:border-stone-700 \n                     text-content-DEFAULT dark:text-white w-full sm:w-auto",children:[x.jsx("option",{value:"all",children:"All Bookings"}),x.jsx("option",{value:"pending",children:"Pending"}),x.jsx("option",{value:"confirmed",children:"Confirmed"}),x.jsx("option",{value:"in_progress",children:"In Progress"}),x.jsx("option",{value:"completed",children:"Completed"}),x.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),j&&g&&x.jsx("div",{className:"fixed inset-0 bg-black/20 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-background-light dark:bg-stone-800 p-6 rounded-lg w-full max-w-lg \n                          border border-border-light dark:border-stone-700 shadow-lg",children:[x.jsx("h3",{className:"text-lg font-medium mb-4 text-content-dark dark:text-white",children:"Update Status"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 text-content-DEFAULT dark:text-white",children:"New Status"}),x.jsx("div",{className:"w-full p-2 bg-background-DEFAULT dark:bg-stone-900 \n                                border border-border-DEFAULT dark:border-stone-700 \n                                rounded-lg text-content-DEFAULT dark:text-white",children:x.jsx("span",{className:"capitalize",children:b.replace("_"," ")})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 text-content-DEFAULT dark:text-white",children:"Note (Optional)"}),x.jsx("textarea",{value:v,onChange:e=>p(e.target.value),className:"w-full p-2 bg-background-light dark:bg-stone-700 \n                             border border-border-DEFAULT dark:border-stone-600 \n                             rounded-lg h-24 text-content-DEFAULT dark:text-white",placeholder:"Add a note about this status change..."})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium mb-2 text-content-DEFAULT dark:text-white",children:"Status History"}),x.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:null==(e=g.statusHistory)?void 0:e.map(((e,t)=>x.jsxs("div",{className:"text-sm p-2 bg-background-DEFAULT dark:bg-stone-900 \n                                  rounded-lg border border-border-light dark:border-stone-700",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"font-medium capitalize text-content-DEFAULT dark:text-white",children:e.status.replace("_"," ")}),x.jsx("span",{className:"text-content-light dark:text-stone-400",children:new Date(e.timestamp).toLocaleString()})]}),e.note&&x.jsx("p",{className:"text-content-light dark:text-stone-400 mt-1",children:e.note})]},t)))})]})]}),x.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[x.jsx("button",{onClick:f,className:"px-4 py-2 bg-background-DEFAULT dark:bg-stone-700 \n                           text-content-DEFAULT dark:text-white \n                           rounded-lg hover:bg-background-dark dark:hover:bg-stone-600 \n                           border border-border-DEFAULT dark:border-stone-600 \n                           transition-colors",children:"Cancel"}),x.jsx("button",{onClick:()=>c(void 0,null,(function*(){if(g&&b)try{(yield Z.put($.ENDPOINTS.BOOKINGS.UPDATE_STATUS(g._id),{status:b,note:v})).success&&(r(t.map((e=>e._id===g._id?i(l({},e),{status:b}):e))),f(),N())}catch(e){}})),className:"px-4 py-2 bg-primary-light dark:bg-orange-500 \n                           text-white rounded-lg \n                           hover:bg-primary-DEFAULT dark:hover:bg-orange-600 \n                           transition-colors",children:"Update Status"})]})]})}),x.jsx("div",{className:"w-full overflow-x-auto \n          bg-background-light dark:bg-stone-800 \n          rounded-lg border border-border-light dark:border-stone-700 \n          relative z-0",children:x.jsxs(se,{children:[x.jsx(ne,{children:x.jsxs(de,{children:[x.jsx(le,{className:"w-[10%] text-content-light dark:text-stone-400",children:"Booking #"}),x.jsx(le,{className:"w-[15%] text-content-light dark:text-stone-400",children:"Date & Time"}),x.jsx(le,{className:"w-[20%] text-content-light dark:text-stone-400",children:"Customer"}),x.jsx(le,{className:"w-[20%] text-content-light dark:text-stone-400",children:"Service"}),x.jsx(le,{className:"w-[15%] text-content-light dark:text-stone-400",children:"Vehicle"}),x.jsx(le,{className:"w-[10%] text-content-light dark:text-stone-400",children:"Status"}),x.jsx(le,{className:"w-[10%] text-content-light dark:text-stone-400",children:"Total"})]})}),x.jsx(ae,{children:w.map((e=>{var r;return x.jsxs(de,{children:[x.jsx(ie,{className:"font-mono text-primary-DEFAULT dark:text-orange-500",children:e.confirmationNumber||"N/A"}),x.jsx(ie,{className:"text-content-DEFAULT dark:text-white",children:e.dateTime||"N/A"}),x.jsx(ie,{children:x.jsxs("div",{children:[x.jsx("div",{className:"font-medium text-content-DEFAULT dark:text-white",children:e.name||"N/A"}),x.jsx("div",{className:"text-sm text-content-light dark:text-stone-400",children:e.contact||"N/A"}),e.email&&x.jsx("div",{className:"text-sm text-content-light dark:text-stone-400",children:e.email})]})}),x.jsx(ie,{children:x.jsxs("div",{children:[x.jsx("div",{className:"font-medium text-content-DEFAULT dark:text-white",children:e.serviceName||"N/A"}),(null==(r=e.optionalServices)?void 0:r.length)>0?x.jsx(ce,{content:x.jsxs("div",{className:"space-y-2 bg-background-DEFAULT dark:bg-stone-700 p-2 rounded-md",children:[x.jsx("p",{className:"font-medium text-primary-DEFAULT",children:"Optional Services:"}),x.jsx("ul",{children:e.optionalServices.map((e=>x.jsxs("li",{className:"text-content-DEFAULT dark:text-white",children:[e.name," -"," ",x.jsxs("span",{className:"text-primary-DEFAULT dark:text-orange-400",children:["$",e.price]})]},e._id)))})]}),children:x.jsxs("div",{className:"text-sm text-primary-DEFAULT dark:text-orange-500 \n                hover:text-primary-light dark:hover:text-orange-600 \n                cursor-pointer",children:[" ","+",e.optionalServices.length," add-ons"]})}):x.jsx("div",{className:"text-sm text-content-light",children:"No add-ons"})]})}),x.jsx(ie,{children:x.jsxs("div",{children:[x.jsx("div",{className:"font-medium text-content-DEFAULT dark:text-white",children:e.vehicleType||"N/A"}),x.jsx("div",{className:"text-sm text-content-light dark:text-stone-400",children:e.makeModel||"N/A"})]})}),x.jsx(ie,{children:x.jsxs("select",{value:e.status||"pending",onChange:r=>{return s=e._id,n=r.target.value,c(void 0,null,(function*(){const e=t.find((e=>e._id===s));m(e),u(n),p(""),k(!0)}));var s,n},className:`${y(e.status)} px-2 py-1 rounded-lg text-sm border-0 \n                               focus:ring-1 focus:ring-primary-light \n                               dark:focus:ring-orange-500 \n                               cursor-pointer`,children:[x.jsx("option",{value:"pending",children:"Pending"}),x.jsx("option",{value:"confirmed",children:"Confirmed"}),x.jsx("option",{value:"in_progress",children:"In Progress"}),x.jsx("option",{value:"completed",children:"Completed"}),x.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),x.jsxs(ie,{className:"font-medium text-content-DEFAULT dark:text-white",children:["$",e.totalPrice||0]})]},e._id||e.confirmationNumber)}))})]})})]})},he=({service:e,onClose:t,onSave:r})=>{var s;const{vehicleTypes:n}=X(),[a,d]=V.useState({name:(null==e?void 0:e.name)||"",features:(null==e?void 0:e.features)||[""],vehiclePricing:(null==e?void 0:e.vehiclePricing)||n.reduce(((e,t)=>i(l({},e),{[t.id]:0})),{}),category:(null==e?void 0:e.category)||"DRIVE-IN",isActive:null==(s=null==e?void 0:e.isActive)||s,sortOrder:(null==e?void 0:e.sortOrder)||0}),[o,g]=V.useState({}),[m,b]=V.useState(!1);return x.jsx("div",{className:"fixed inset-0 bg-black/20 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-background-light dark:bg-stone-800 rounded-lg w-full max-w-2xl \n                    border border-border-light dark:border-stone-700 shadow-lg \n                    flex flex-col max-h-[90vh]",children:[x.jsx("div",{className:"p-6 border-b border-border-light dark:border-stone-700",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h2",{className:"text-xl font-medium text-content-dark dark:text-white",children:(null==e?void 0:e._id)?"Edit Service":"Add New Service"}),x.jsx("button",{onClick:t,className:"p-2 hover:bg-background-dark dark:hover:bg-stone-700 \n                       rounded-lg transition-colors text-content-light dark:text-stone-400",children:x.jsx(h,{className:"w-4 h-4"})})]})}),x.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:x.jsxs("form",{onSubmit:s=>c(void 0,null,(function*(){if(s.preventDefault(),(()=>{const e={};return a.name.trim()||(e.name="Service name is required"),a.features.some((e=>e.trim()))||(e.features="At least one feature is required"),Object.values(a.vehiclePricing).some((e=>isNaN(e)||e<0))&&(e.pricing="All pricing values must be valid numbers greater than or equal to 0"),g(e),0===Object.keys(e).length})()&&!m)try{b(!0);const s=(null==e?void 0:e._id)?$.ENDPOINTS.SERVICES.BY_ID(e._id):$.ENDPOINTS.SERVICES.BASE,n=(null==e?void 0:e._id)?yield Z.put(s,a):yield Z.post(s,a);n.success&&(r(n.data),t())}catch(n){g((e=>i(l({},e),{submit:n.message})))}finally{b(!1)}})),className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 text-content-DEFAULT dark:text-white",children:"Service Name"}),x.jsx("input",{type:"text",value:a.name,onChange:e=>d(i(l({},a),{name:e.target.value})),className:"w-full p-2 rounded-lg border transition-colors\n                         bg-background-light dark:bg-stone-800 \n                         border-border-DEFAULT dark:border-stone-700\n                         text-content-DEFAULT dark:text-white \n                         focus:border-primary-light dark:focus:border-orange-500",placeholder:"Enter service name"}),o.name&&x.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-1",children:o.name})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 text-content-DEFAULT dark:text-white",children:"Category"}),x.jsxs("select",{value:a.category,onChange:e=>d(i(l({},a),{category:e.target.value})),className:"w-full p-2 rounded-lg border transition-colors\n                         bg-background-light dark:bg-stone-800 \n                         border-border-DEFAULT dark:border-stone-700\n                         text-content-DEFAULT dark:text-white",children:[x.jsx("option",{value:"DRIVE-IN",children:"Drive-in"}),x.jsx("option",{value:"APPOINTMENT",children:"Appointment"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 text-content-DEFAULT dark:text-white",children:"Features"}),x.jsxs("div",{className:"space-y-2",children:[a.features.map(((e,t)=>x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",value:e,onChange:e=>((e,t)=>{const r=[...a.features];r[e]=t,d(i(l({},a),{features:r}))})(t,e.target.value),className:"flex-1 p-2 rounded-lg border transition-colors\n                               bg-background-light dark:bg-stone-800 \n                               border-border-DEFAULT dark:border-stone-700\n                               text-content-DEFAULT dark:text-white",placeholder:"Feature description"}),x.jsx("button",{type:"button",onClick:()=>(e=>{a.features.length>1&&d(i(l({},a),{features:a.features.filter(((t,r)=>r!==e))}))})(t),className:"p-2 hover:bg-background-dark dark:hover:bg-stone-700 \n                               rounded-lg transition-colors text-red-500",disabled:1===a.features.length,children:x.jsx(F,{className:"w-4 h-4"})})]},t))),x.jsxs("button",{type:"button",onClick:()=>{d(i(l({},a),{features:[...a.features,""]}))},className:"flex items-center gap-2 text-sm text-primary-DEFAULT dark:text-orange-500 \n                           hover:text-primary-dark dark:hover:text-orange-400",children:[x.jsx(U,{className:"w-4 h-4"}),"Add Feature"]})]}),o.features&&x.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-1",children:o.features})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 text-content-DEFAULT dark:text-white",children:"Pricing"}),x.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.map((e=>x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm text-content-light dark:text-stone-400 mb-1 capitalize",children:e.label}),x.jsx("input",{type:"number",min:"0",step:"0.01",value:a.vehiclePricing[e.id]||0,onChange:t=>((e,t)=>{d(i(l({},a),{vehiclePricing:i(l({},a.vehiclePricing),{[e]:Number(t)})}))})(e.id,t.target.value),className:"w-full p-2 rounded-lg border transition-colors\n                               bg-background-light dark:bg-stone-800 \n                               border-border-DEFAULT dark:border-stone-700\n                               text-content-DEFAULT dark:text-white"})]},e.id)))}),o.pricing&&x.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-1",children:o.pricing})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",id:"isActive",checked:a.isActive,onChange:e=>d(i(l({},a),{isActive:e.target.checked})),className:"rounded border-border-DEFAULT bg-background-light dark:bg-stone-800"}),x.jsx("label",{htmlFor:"isActive",className:"text-sm text-content-DEFAULT dark:text-white",children:"Active"})]}),o.submit&&x.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-500 dark:text-red-400 p-3 rounded-lg text-sm",children:o.submit}),x.jsx("div",{className:"p-6 border-t border-border-light dark:border-stone-700 bg-background-light dark:bg-stone-800",children:x.jsxs("div",{className:"flex justify-end gap-4",children:[x.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg transition-colors\n                       bg-background-DEFAULT dark:bg-stone-700 \n                       text-content-DEFAULT dark:text-white \n                       border border-border-DEFAULT dark:border-stone-600 \n                       hover:bg-background-dark dark:hover:bg-stone-600",children:"Cancel"}),x.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 rounded-lg transition-colors\n                       bg-primary-light dark:bg-orange-500 \n                       text-white\n                       hover:bg-primary-DEFAULT dark:hover:bg-orange-600 \n                       disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":(null==e?void 0:e._id)?"Update Service":"Create Service"})]})})]})})]})})},ge=()=>{const{vehicleTypes:e}=X(),[t,r]=V.useState([]),[s,n]=V.useState(!0),[a,d]=V.useState(null),[o,h]=V.useState(!1),[g,m]=V.useState(null);V.useEffect((()=>{c(void 0,null,(function*(){try{n(!0);const e=yield Z.get($.ENDPOINTS.SERVICES.BASE);e.success&&r(e.data)}catch(e){m(e.message)}finally{n(!1)}}))}),[]);return s?x.jsx("div",{className:"flex justify-center items-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-light dark:border-orange-500"})}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h1",{className:"text-2xl font-bold text-content-dark dark:text-white",children:"Service Management"}),x.jsxs("button",{onClick:()=>{d({name:"",features:[""],vehiclePricing:{sedan:0,"mini-suv":0,suv:0,"van/truck":0}}),h(!0)},className:"flex items-center gap-2 px-4 py-2 \n                   bg-primary-light dark:bg-orange-500 text-white rounded-lg \n                   hover:bg-primary-DEFAULT dark:hover:bg-orange-600 \n                   transition-colors",children:[x.jsx(U,{className:"w-4 h-4"}),"Add Service"]})]}),x.jsx("div",{className:"w-full overflow-x-auto \n                    bg-background-light dark:bg-stone-800 \n                    rounded-lg border border-border-light dark:border-stone-700 \n                    relative z-0",children:x.jsxs(se,{children:[x.jsx(ne,{children:x.jsxs(de,{children:[x.jsx(le,{className:"text-content-light dark:text-stone-400",children:"Service Name"}),x.jsx(le,{className:"text-content-light dark:text-stone-400",children:"Features"}),x.jsx(le,{className:"text-content-light dark:text-stone-400",children:"Pricing"}),x.jsx(le,{className:"text-content-light dark:text-stone-400",children:"Status"}),x.jsx(le,{className:"text-right text-content-light dark:text-stone-400",children:"Actions"})]})}),x.jsx(ae,{children:t.map((s=>x.jsxs(de,{children:[x.jsx(ie,{className:"font-medium text-content-DEFAULT dark:text-white",children:s.name}),x.jsx(ie,{children:x.jsx("ul",{className:"list-disc list-inside",children:s.features.map(((e,t)=>x.jsx("li",{className:"text-sm text-content-light dark:text-stone-400",children:e},t)))})}),x.jsx(ie,{children:x.jsx("div",{className:"space-y-1",children:e.map((e=>x.jsxs("div",{className:"text-sm",children:[x.jsxs("span",{className:"text-content-light dark:text-stone-400 capitalize",children:[e.label,":"]}),x.jsxs("span",{className:"text-primary-DEFAULT dark:text-orange-500 ml-1",children:["$",s.vehiclePricing[e.id]||0]})]},e.id)))})}),x.jsx(ie,{children:x.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+(s.isActive?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"),children:s.isActive?"Active":"Inactive"})}),x.jsx(ie,{className:"text-right",children:x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsx("button",{onClick:()=>(e=>{d(e),h(!0)})(s),className:"p-2 hover:bg-background-dark dark:hover:bg-stone-700 \n                               rounded-lg transition-colors text-content-light dark:text-stone-400",children:x.jsx(I,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>{return e=s._id,c(void 0,null,(function*(){if(window.confirm("Are you sure you want to mark this service as inactive?"))try{(yield Z.delete($.ENDPOINTS.SERVICES.BY_ID(e))).success&&r(t.map((t=>t._id===e?i(l({},t),{isActive:!1}):t)))}catch(s){}}));var e},className:"p-2 hover:bg-background-dark dark:hover:bg-stone-700 \n                               rounded-lg transition-colors text-red-500",children:x.jsx(O,{className:"w-4 h-4"})})]})})]},s._id)))})]})}),o&&x.jsx(he,{service:a,onClose:()=>{h(!1),d(null)},onSave:e=>{(null==a?void 0:a._id)?r(t.map((t=>t._id===e._id?e:t))):r([...t,e]),h(!1),d(null)}})]})},me=()=>{const[e,t]=V.useState(null),[r,s]=V.useState("vehicleTypes"),[n,a]=V.useState([]),[d,o]=V.useState([]),[g,m]=V.useState([]),[b,u]=V.useState(null),[v,p]=V.useState({}),[j,k]=V.useState(!0);V.useEffect((()=>{f()}),[]);const N=e=>{const t=(e=>{switch(e){case"vehicle-types":return{id:"",label:"",isActive:!0,sortOrder:0};case"scents":return{id:d.length>0?Math.max(...d.map((e=>e.id)))+1:1,name:"",isActive:!0,sortOrder:0};case"optional-services":return{id:g.length>0?Math.max(...g.map((e=>e.id)))+1:1,name:"",description:"",price:0,isActive:!0,sortOrder:0};default:return{}}})(e);u("new"),p(t)},f=()=>c(void 0,null,(function*(){try{k(!0);const[e,t,r]=yield Promise.all([Z.get($.ENDPOINTS.CONFIG.VEHICLE_TYPES),Z.get($.ENDPOINTS.CONFIG.SCENTS),Z.get($.ENDPOINTS.CONFIG.OPTIONAL_SERVICES)]);a(e.data),o(t.data),m(r.data)}catch(e){}finally{k(!1)}})),y=e=>c(void 0,null,(function*(){try{let r,s=l({},v);if("vehicle-types"===e){if(!s.id.trim())return void t("Vehicle type ID cannot be empty")}else{if(s.id=parseInt(s.id),isNaN(s.id)||s.id<1)return void t("ID must be a positive number");"optional-services"===e&&(s.price=parseFloat(s.price))}r="new"===b?yield Z.post($.ENDPOINTS.CONFIG.BASE(e),s):yield Z.put($.ENDPOINTS.CONFIG.BY_ID(e,b),s),r.success&&(yield f(),u(null),p({}),t(null))}catch(r){t(r.message)}})),w=(e,t,r)=>c(void 0,null,(function*(){try{const s="vehicle-types"===e?n:"scents"===e?d:g,a=s.findIndex((e=>e._id===t)),l="up"===r?s[a].sortOrder-1:s[a].sortOrder+1;yield Z.put($.ENDPOINTS.CONFIG.BY_ID(e,t),{sortOrder:l}),yield f()}catch(s){}})),A=e=>{u(e._id),p(e)};return j?x.jsx("div",{className:"flex justify-center items-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 \n                        border-primary-light dark:border-orange-500"})}):x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"border-b border-border-light",children:x.jsxs("nav",{className:"flex space-x-8",children:[x.jsx("button",{onClick:()=>s("vehicleTypes"),className:"px-1 py-4 border-b-2 text-sm font-medium "+("vehicleTypes"===r?"border-primary-light text-primary-light dark:border-orange-500 dark:text-orange-500":"border-transparent text-content-light hover:text-content-DEFAULT hover:border-border-DEFAULT dark:text-stone-400 dark:hover:text-stone-200 dark:hover:border-stone-700"),children:"Vehicle Types"}),x.jsx("button",{onClick:()=>s("scents"),className:"px-1 py-4 border-b-2 text-sm font-medium "+("scents"===r?"border-primary-light text-primary-light dark:border-orange-500 dark:text-orange-500":"border-transparent text-content-light hover:text-content-DEFAULT hover:border-border-DEFAULT dark:text-stone-400 dark:hover:text-stone-200 dark:hover:border-stone-700"),children:"Scents"}),x.jsx("button",{onClick:()=>s("optionalServices"),className:"px-1 py-4 border-b-2 text-sm font-medium "+("optionalServices"===r?"border-primary-light text-primary-light dark:border-orange-500 dark:text-orange-500":"border-transparent text-content-light hover:text-content-DEFAULT hover:border-border-DEFAULT dark:text-stone-400 dark:hover:text-stone-200 dark:hover:border-stone-700"),children:"Optional Services"})]})}),x.jsx("div",{className:"mt-6",children:"vehicleTypes"===r&&x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h3",{className:"text-lg font-semibold text-content-dark dark:text-white",children:"Vehicle Types"}),x.jsxs("button",{onClick:()=>N("vehicle-types"),className:"flex items-center gap-2 px-4 py-2 text-sm \n                bg-primary-light dark:bg-orange-500 text-white rounded-lg \n                hover:bg-primary-DEFAULT dark:hover:bg-orange-600 \n                transition-colors",children:[x.jsx(U,{className:"w-4 h-4"}),"Add Vehicle Type"]})]}),x.jsx("div",{className:"w-full overflow-x-auto \n                bg-background-light dark:bg-stone-800 rounded-lg \n                border border-border-light dark:border-stone-700 \n                relative z-0",children:x.jsxs(se,{children:[x.jsx(ne,{children:x.jsxs(de,{children:[x.jsx(le,{children:"Sort"}),x.jsx(le,{children:"ID"}),x.jsx(le,{children:"Label"}),x.jsx(le,{children:"Status"}),x.jsx(le,{children:"Actions"})]})}),x.jsxs(ae,{children:["new"===b&&x.jsxs(de,{children:[x.jsx(ie,{children:"-"}),x.jsx(ie,{children:x.jsx(oe,{type:"text",value:v.id||"",onChange:e=>p(i(l({},v),{id:e.target.value})),placeholder:"Enter ID (e.g., sedan, suv)",className:"lowercase",required:!0})}),x.jsx(ie,{children:x.jsx(oe,{type:"text",value:v.label||"",onChange:e=>p(i(l({},v),{label:e.target.value})),placeholder:"Enter Label"})}),x.jsx(ie,{children:x.jsxs("select",{value:v.isActive,onChange:e=>p(i(l({},v),{isActive:"true"===e.target.value})),className:"p-2 border rounded-md \n             bg-background-light dark:bg-stone-800\n             border-border-DEFAULT dark:border-stone-700\n             text-content-DEFAULT dark:text-white",children:[x.jsx("option",{value:"true",children:"Active"}),x.jsx("option",{value:"false",children:"Inactive"})]})}),x.jsx(ie,{children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>y("vehicle-types"),className:"p-1 text-green-600 dark:text-green-400 \n                          hover:bg-green-50 dark:hover:bg-green-900/20 rounded",children:x.jsx(_,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>{u(null),p({})},className:"p-1 text-red-600 dark:text-red-400 \n                          hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:x.jsx(h,{className:"w-4 h-4"})})]})})]}),n.map((e=>x.jsxs(de,{children:[x.jsx(ie,{children:x.jsxs("div",{className:"flex gap-1",children:[x.jsx("button",{onClick:()=>w("vehicle-types",e._id,"up"),className:"p-1 hover:bg-background-dark dark:hover:bg-stone-700 rounded",children:x.jsx(P,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>w("vehicle-types",e._id,"down"),className:"p-1 hover:bg-background-dark dark:hover:bg-stone-700 rounded",children:x.jsx(B,{className:"w-4 h-4"})})]})}),x.jsx(ie,{children:b===e._id?x.jsx(oe,{value:v.id||"",onChange:e=>p(i(l({},v),{id:e.target.value}))}):e.id}),x.jsx(ie,{children:b===e._id?x.jsx(oe,{value:v.label||"",onChange:e=>p(i(l({},v),{label:e.target.value}))}):e.label}),x.jsx(ie,{children:b===e._id?x.jsxs("select",{value:v.isActive,onChange:e=>p(i(l({},v),{isActive:"true"===e.target.value})),className:"p-2 border rounded-md \n             bg-background-light dark:bg-stone-800\n             border-border-DEFAULT dark:border-stone-700\n             text-content-DEFAULT dark:text-white",children:[x.jsx("option",{value:"true",children:"Active"}),x.jsx("option",{value:"false",children:"Inactive"})]}):x.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+(e.isActive?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"),children:e.isActive?"Active":"Inactive"})}),x.jsx(ie,{children:b===e._id?x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>y("vehicle-types"),className:"p-1 text-green-600 dark:text-green-400 \n                            hover:bg-green-50 dark:hover:bg-green-900/20 rounded",children:x.jsx(_,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>u(null),className:"p-1 text-red-600 dark:text-red-400 \n                            hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:x.jsx(h,{className:"w-4 h-4"})})]}):x.jsx("button",{onClick:()=>A(e),className:"p-1 hover:bg-background-dark dark:hover:bg-stone-700 rounded",children:x.jsx(I,{className:"w-4 h-4"})})})]},e._id)))]})]})})]})}),x.jsx("div",{className:"mt-6",children:"scents"===r&&x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h3",{className:"text-lg font-semibold text-content-dark dark:text-white",children:"Scents"}),x.jsxs("button",{onClick:()=>N("scents"),className:"flex items-center gap-2 px-4 py-2 text-sm \n                bg-primary-light dark:bg-orange-500 text-white rounded-lg \n                hover:bg-primary-DEFAULT dark:hover:bg-orange-600 \n                transition-colors",children:[x.jsx(U,{className:"w-4 h-4"}),"Add Scent"]})]}),x.jsx("div",{className:"w-full overflow-x-auto \n                bg-background-light dark:bg-stone-800 rounded-lg \n                border border-border-light dark:border-stone-700 \n                relative z-0",children:x.jsxs(se,{children:[x.jsx(ne,{children:x.jsxs(de,{children:[x.jsx(le,{children:"Sort"}),x.jsx(le,{children:"ID"}),x.jsx(le,{children:"Name"}),x.jsx(le,{children:"Status"}),x.jsx(le,{children:"Actions"})]})}),x.jsxs(ae,{children:["new"===b&&x.jsxs(de,{children:[x.jsx(ie,{children:"-"}),x.jsx(ie,{children:x.jsx(oe,{type:"number",value:v.id||"",onChange:e=>p(i(l({},v),{id:e.target.value})),placeholder:"ID will be auto-assigned",min:"1",step:"1",required:!0,disabled:"new"===b})}),x.jsx(ie,{children:x.jsx(oe,{type:"text",value:v.name||"",onChange:e=>p(i(l({},v),{name:e.target.value})),placeholder:"Enter Name"})}),x.jsx(ie,{children:x.jsxs("select",{value:v.isActive,onChange:e=>p(i(l({},v),{isActive:"true"===e.target.value})),className:"p-2 border rounded-md \n             bg-background-light dark:bg-stone-800\n             border-border-DEFAULT dark:border-stone-700\n             text-content-DEFAULT dark:text-white",children:[x.jsx("option",{value:"true",children:"Active"}),x.jsx("option",{value:"false",children:"Inactive"})]})}),x.jsx(ie,{children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>y("scents"),className:"p-1 text-green-600 dark:text-green-400 \n                          hover:bg-green-50 dark:hover:bg-green-900/20 rounded",children:x.jsx(_,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>{u(null),p({})},className:"p-1 text-red-600 dark:text-red-400 \n                          hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:x.jsx(h,{className:"w-4 h-4"})})]})})]}),d.map((e=>x.jsxs(de,{children:[x.jsx(ie,{children:x.jsxs("div",{className:"flex gap-1",children:[x.jsx("button",{onClick:()=>w("scents",e._id,"up"),className:"p-1 hover:bg-background-dark dark:hover:bg-stone-700 rounded",children:x.jsx(P,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>w("scents",e._id,"down"),className:"p-1 hover:bg-background-dark dark:hover:bg-stone-700 rounded",children:x.jsx(B,{className:"w-4 h-4"})})]})}),x.jsx(ie,{children:b===e._id?x.jsx(oe,{type:"number",value:v.id||"",onChange:e=>p(i(l({},v),{id:parseInt(e.target.value)}))}):e.id}),x.jsx(ie,{children:b===e._id?x.jsx(oe,{value:v.name||"",onChange:e=>p(i(l({},v),{name:e.target.value}))}):e.name}),x.jsx(ie,{children:b===e._id?x.jsxs("select",{value:v.isActive,onChange:e=>p(i(l({},v),{isActive:"true"===e.target.value})),className:"p-2 border rounded-md \n             bg-background-light dark:bg-stone-800\n             border-border-DEFAULT dark:border-stone-700\n             text-content-DEFAULT dark:text-white",children:[x.jsx("option",{value:"true",children:"Active"}),x.jsx("option",{value:"false",children:"Inactive"})]}):x.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+(e.isActive?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"),children:e.isActive?"Active":"Inactive"})}),x.jsx(ie,{children:b===e._id?x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>y("scents"),className:"p-1 text-green-600 dark:text-green-400 \n                            hover:bg-green-50 dark:hover:bg-green-900/20 rounded",children:x.jsx(_,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>u(null),className:"p-1 text-red-600 dark:text-red-400 \n                            hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:x.jsx(h,{className:"w-4 h-4"})})]}):x.jsx("button",{onClick:()=>A(e),className:"p-1 hover:bg-background-dark dark:hover:bg-stone-700 rounded",children:x.jsx(I,{className:"w-4 h-4"})})})]},e._id)))]})]})})]})}),x.jsx("div",{className:"mt-6",children:"optionalServices"===r&&x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h3",{className:"text-lg font-semibold text-content-dark dark:text-white",children:"Optional Services"}),x.jsxs("button",{onClick:()=>N("optional-services"),className:"flex items-center gap-2 px-4 py-2 text-sm \n                bg-primary-light dark:bg-orange-500 text-white rounded-lg \n                hover:bg-primary-DEFAULT dark:hover:bg-orange-600 \n                transition-colors",children:[x.jsx(U,{className:"w-4 h-4"}),"Add Optional Service"]})]}),x.jsx("div",{className:"w-full overflow-x-auto \n                bg-background-light dark:bg-stone-800 rounded-lg \n                border border-border-light dark:border-stone-700 \n                relative z-0",children:x.jsxs(se,{children:[x.jsx(ne,{children:x.jsxs(de,{children:[x.jsx(le,{children:"Sort"}),x.jsx(le,{children:"ID"}),x.jsx(le,{children:"Name"}),x.jsx(le,{children:"Description"}),x.jsx(le,{children:"Price"}),x.jsx(le,{children:"Status"}),x.jsx(le,{children:"Actions"})]})}),x.jsxs(ae,{children:["new"===b&&x.jsxs(de,{children:[x.jsx(ie,{children:"-"}),x.jsx(ie,{children:x.jsx(oe,{type:"number",value:v.id||"",onChange:e=>p(i(l({},v),{id:e.target.value})),placeholder:"ID will be auto-assigned",min:"1",step:"1",required:!0,disabled:"new"===b})}),x.jsx(ie,{children:x.jsx(oe,{type:"text",value:v.name||"",onChange:e=>p(i(l({},v),{name:e.target.value})),placeholder:"Enter Name"})}),x.jsx(ie,{children:x.jsx(oe,{type:"text",value:v.description||"",onChange:e=>p(i(l({},v),{description:e.target.value})),placeholder:"Enter Description"})}),x.jsx(ie,{children:x.jsx(oe,{type:"number",value:v.price||"",onChange:e=>p(i(l({},v),{price:parseFloat(e.target.value)})),placeholder:"Enter Price"})}),x.jsx(ie,{children:x.jsxs("select",{value:v.isActive,onChange:e=>p(i(l({},v),{isActive:"true"===e.target.value})),className:"p-2 border rounded-md \n             bg-background-light dark:bg-stone-800\n             border-border-DEFAULT dark:border-stone-700\n             text-content-DEFAULT dark:text-white",children:[x.jsx("option",{value:"true",children:"Active"}),x.jsx("option",{value:"false",children:"Inactive"})]})}),x.jsx(ie,{children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>y("optional-services"),className:"p-1 text-green-600 dark:text-green-400 \n                          hover:bg-green-50 dark:hover:bg-green-900/20 rounded",children:x.jsx(_,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>{u(null),p({})},className:"p-1 text-red-600 dark:text-red-400 \n                          hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:x.jsx(h,{className:"w-4 h-4"})})]})})]}),g.map((e=>x.jsxs(de,{children:[x.jsx(ie,{children:x.jsxs("div",{className:"flex gap-1",children:[x.jsx("button",{onClick:()=>w("optional-services",e._id,"up"),className:"p-1 hover:bg-background-dark dark:hover:bg-stone-700 rounded",children:x.jsx(P,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>w("optional-services",e._id,"down"),className:"p-1 hover:bg-background-dark dark:hover:bg-stone-700 rounded",children:x.jsx(B,{className:"w-4 h-4"})})]})}),x.jsx(ie,{children:b===e._id?x.jsx(oe,{type:"number",value:v.id||"",onChange:e=>p(i(l({},v),{id:parseInt(e.target.value)}))}):e.id}),x.jsx(ie,{children:b===e._id?x.jsx(oe,{value:v.name||"",onChange:e=>p(i(l({},v),{name:e.target.value}))}):e.name}),x.jsx(ie,{children:b===e._id?x.jsx(oe,{value:v.description||"",onChange:e=>p(i(l({},v),{description:e.target.value}))}):e.description}),x.jsx(ie,{children:b===e._id?x.jsx(oe,{type:"number",value:v.price||"",onChange:e=>p(i(l({},v),{price:parseFloat(e.target.value)}))}):`$${e.price}`}),x.jsx(ie,{children:b===e._id?x.jsxs("select",{value:v.isActive,onChange:e=>p(i(l({},v),{isActive:"true"===e.target.value})),className:"p-2 border rounded-md \n             bg-background-light dark:bg-stone-800\n             border-border-DEFAULT dark:border-stone-700\n             text-content-DEFAULT dark:text-white",children:[x.jsx("option",{value:"true",children:"Active"}),x.jsx("option",{value:"false",children:"Inactive"})]}):x.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+(e.isActive?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"),children:e.isActive?"Active":"Inactive"})}),x.jsx(ie,{children:b===e._id?x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>y("optional-services"),className:"p-1 text-green-600 dark:text-green-400 \n                            hover:bg-green-50 dark:hover:bg-green-900/20 rounded",children:x.jsx(_,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>u(null),className:"p-1 text-red-600 dark:text-red-400 \n                            hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:x.jsx(h,{className:"w-4 h-4"})})]}):x.jsx("button",{onClick:()=>A(e),className:"p-1 hover:bg-background-dark dark:hover:bg-stone-700 rounded",children:x.jsx(I,{className:"w-4 h-4"})})})]},e._id)))]})]})})]})})]})},be=({children:e})=>{const{user:t,loading:r}=z();return r?x.jsx("div",{children:"Loading..."}):t?e:x.jsx(Q,{to:"/login"})},ue=()=>x.jsx(M,{children:x.jsx(W,{children:x.jsxs(J,{element:x.jsx(be,{children:x.jsx(ee,{})}),children:[x.jsx(J,{index:!0,element:x.jsx(re,{})}),x.jsx(J,{path:"/dashboard",element:x.jsx(re,{})}),x.jsx(J,{path:"/bookings",element:x.jsx(xe,{})}),x.jsx(J,{path:"/services",element:x.jsx(ge,{})}),x.jsx(J,{path:"/config",element:x.jsx(me,{})})]})})});export{ue as default};
