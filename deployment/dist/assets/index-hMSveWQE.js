const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk/Login-BGKHkMHx.js","assets/vendor/ui-vendor-CxT9egSK.js","assets/vendor/react-vendor-C2p5b_me.js","assets/vendor/auth-vendor-sPk1YpsG.js","assets/chunk/admin-CJnNjYBT.js","assets/chunk/dateUtils-CgpWY0nb.js","assets/chunk/HeroSection-CznfgQ71.js","assets/chunk/FeatureSection-CHv7s6k5.js","assets/chunk/Workflow-CNxgRWXi.js","assets/chunk/Footer-DOVtYova.js","assets/chunk/BookingComponent-BLYLRsJJ.js","assets/chunk/BusinessMap-LOgCXU6v.js","assets/vendor/map-vendor-DDIcH32_.js","assets/chunk/CancellationPage-B17oYJm7.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,a=(e,t,r)=>new Promise(((n,o)=>{var s=e=>{try{a(r.next(e))}catch(t){o(t)}},i=e=>{try{a(r.throw(e))}catch(t){o(t)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(s,i);a((r=r.apply(e,t)).next())}));import{j as l,S as c,M as d,B as u,F as m,a as h,b as f,G as g,X as p,c as x}from"./vendor/ui-vendor-CxT9egSK.js";import{a as v,r as b,u as j,b as y,N as k,L as E,B as S,R as N,c as _,d as I}from"./vendor/react-vendor-C2p5b_me.js";import{j as w}from"./vendor/auth-vendor-sPk1YpsG.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var O={},T=v;O.createRoot=T.createRoot,O.hydrateRoot=T.hydrateRoot;const P={},A=function(e,t,r){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));n=Promise.allSettled(t.map((e=>{if((e=function(e){return"/"+e}(e))in P)return;P[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script"),o.crossOrigin="",o.href=e,r&&o.setAttribute("nonce",r),document.head.appendChild(o),t?new Promise(((t,r)=>{o.addEventListener("load",t),o.addEventListener("error",(()=>r(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return n.then((t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)}))},L=b.createContext(null),C=({children:e})=>{const[t,r]=b.useState([]),[n,o]=b.useState(!0),[s,i]=b.useState(null),[c,d]=b.useState(!1),[u,m]=b.useState(null),h=()=>a(void 0,null,(function*(){try{const e=yield fetch("/api/services"),t=yield e.json();t.success?(r(t.data),i(null)):i("Failed to fetch services")}catch(e){i("Error connecting to the server")}finally{o(!1)}}));b.useEffect((()=>{h()}),[]);const f={services:t,loading:n,error:s,refreshServices:h,isModalOpen:c,editingService:u,openModal:(e=null)=>{m(e),d(!0)},closeModal:()=>{d(!1),m(null)}};return l.jsx(L.Provider,{value:f,children:e})},D={API_URL:"https://markatodetailing.com/api",ENDPOINTS:{AUTH:{LOGIN:"/auth/login"},ADMIN:{DASHBOARD:"/admin/dashboard",BOOKINGS:{BASE:"/admin/bookings",DELETE_ALL:"/admin/bookings/delete-all",WEEKLY:"/admin/bookings/weekly"}},CONFIG:{BASE:e=>`/config/${e}`,BY_ID:(e,t)=>`/config/${e}/${t}`,VEHICLE_TYPES:"/config/vehicle-types",VEHICLE_TYPE_BY_ID:e=>`/config/vehicle-types/${e}`,SCENTS:"/config/scents",SCENT_BY_ID:e=>`/config/scents/${e}`,OPTIONAL_SERVICES:"/config/optional-services",OPTIONAL_SERVICE_BY_ID:e=>`/config/optional-services/${e}`},SERVICES:{BASE:"/services",BY_ID:e=>`/services/${e}`,CHECK_NAME:"/services/check-name"},BOOKINGS:{BASE:"/bookings",PDF:e=>`/bookings/${e}/pdf`,RESEND_EMAIL:e=>`/bookings/${e}/resend-email`,UPDATE_STATUS:e=>`/bookings/${e}/status`}}},R=b.createContext(null),B=({children:e})=>{const[t,r]=b.useState([]),[n,o]=b.useState([]),[s,i]=b.useState([]),[c,d]=b.useState(!0),[u,m]=b.useState(null),h=()=>a(void 0,null,(function*(){try{d(!0),m(null);const[e,t,n]=yield Promise.allSettled([fetch(`${D.API_URL}${D.ENDPOINTS.CONFIG.VEHICLE_TYPES}`).then((e=>e.json())),fetch(`${D.API_URL}${D.ENDPOINTS.CONFIG.SCENTS}`).then((e=>e.json())),fetch(`${D.API_URL}${D.ENDPOINTS.CONFIG.OPTIONAL_SERVICES}`).then((e=>e.json()))]);"fulfilled"===e.status&&e.value.success&&r(e.value.data),"fulfilled"===t.status&&t.value.success&&o(t.value.data),"fulfilled"===n.status&&n.value.success&&i(n.value.data);if([e,t,n].filter((e=>"rejected"===e.status)).map((e=>e.reason)).length>0)throw new Error("Some configuration data failed to load")}catch(e){m(e.message)}finally{d(!1)}}));b.useEffect((()=>{let e=!0;return a(void 0,null,(function*(){e&&(yield h())})),()=>{e=!1}}),[]);const f={vehicleTypes:t.filter((e=>e.isActive)),scents:n.filter((e=>e.isActive)),optionalServices:s.filter((e=>e.isActive)),loading:c,error:u,refreshConfig:h};return c?l.jsx("div",{className:"flex justify-center items-center min-h-20",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-light dark:border-orange-500"})}):u?l.jsxs("div",{className:"text-red-500 p-4 text-center",children:[l.jsxs("p",{className:"mb-2",children:["Error loading configuration: ",u]}),l.jsx("button",{onClick:h,className:"mt-2 px-4 py-2 bg-primary-light dark:bg-orange-500 text-white rounded-lg hover:bg-primary-DEFAULT dark:hover:bg-orange-600 transition-colors",children:"Retry"})]}):l.jsx(R.Provider,{value:f,children:e})},F=b.createContext(null),$=({children:e})=>{const[c,d]=b.useState(null),[u,m]=b.useState(!0),[h,f]=b.useState(null),g=j();b.useEffect((()=>{a(void 0,null,(function*(){try{const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);d(t)}}catch(e){f("Failed to check authentication.")}finally{m(!1)}}))}),[]);b.useEffect((()=>{const e=setInterval((()=>{const e=JSON.parse(localStorage.getItem("user"));(null==e?void 0:e.token)&&!(e=>{if(!e)return!1;try{return w(e).exp>Date.now()/1e3}catch(t){return!1}})(e.token)&&a(void 0,null,(function*(){}))}),3e5);return()=>clearInterval(e)}),[]);const p={user:c,login:(e,l)=>a(void 0,null,(function*(){try{m(!0),f(null);const u=yield fetch(`${D.API_URL}${D.ENDPOINTS.AUTH.LOGIN}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:l})}),h=yield u.json();if(u.ok){const e=(a=((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&i(e,r,t[r]);if(n)for(var r of n(t))s.call(t,r)&&i(e,r,t[r]);return e})({},h.user),c={token:h.token},t(a,r(c)));return localStorage.setItem("user",JSON.stringify(e)),d(e),g("/admin"),{success:!0}}return f(h.error||"Login failed."),{success:!1,error:h.error}}catch(u){return f("Login failed."),{success:!1,error:"Login failed."}}finally{m(!1)}var a,c})),logout:()=>{localStorage.removeItem("user"),d(null),g("/")},loading:u,error:h};return l.jsx(F.Provider,{value:p,children:e})},U=()=>{const e=b.useContext(F);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},V=({children:e})=>{const{user:t,loading:r}=U(),n=y();return r?l.jsx("div",{children:"Loading..."}):t?e:l.jsx(k,{to:"/login",state:{from:n},replace:!0})},z=()=>{const[e,t]=b.useState(!0);b.useEffect((()=>{const e=localStorage.getItem("theme");e&&(t("dark"===e),document.documentElement.classList.toggle("dark","dark"===e))}),[]);return l.jsx("button",{onClick:()=>{t(!e),document.documentElement.classList.toggle("dark"),localStorage.setItem("theme",e?"light":"dark")},className:"fixed bottom-4 right-4 p-3 rounded-full\n                z-50\n                bg-primary-light text-white\n                hover:bg-primary-DEFAULT\n                dark:bg-orange-500 dark:hover:bg-orange-600\n                transition-all duration-300 ease-in-out\n                shadow-lg hover:shadow-primary-light/20\n                dark:hover:shadow-orange-500/20","aria-label":"Toggle theme",children:e?l.jsx(c,{className:"w-6 h-6"}):l.jsx(d,{className:"w-6 h-6"})})},M=[{label:"How We Work",href:"#workflow-section"},{label:"Why Choose Us",href:"#why-choose-us"},{label:"Find Us",href:"#find-us"}],Y=[{icon:l.jsx(u,{}),text:"Convenience",description:"Hastle free, fast services and easy payments."},{icon:l.jsx(m,{}),text:"Transparency",description:"We offer you our affordable rates, because we have built our business on trust."},{icon:l.jsx(h,{}),text:"Quality",description:"We are committed to quality and take vehicle detailing seriously. Top-notch service is our main auto motive."},{icon:l.jsx(f,{}),text:"Skilled Detailers",description:"Benefit from expert knowledge and precision workmanship."},{icon:l.jsx(g,{}),text:"Real-time updates",description:"Stay informed about your vehicle's service progress with timely notifications."}],H=[{title:"Select Your Car",description:"We Service most makes and models"},{title:"Select The Perfect Car Service",description:"From our broad portfolio of Services"},{title:"Select your Optional Services",description:"Add any additional services you may need"},{title:"Book An Appointment",description:"Book an appointment at a time of your convenience."}],W=()=>{const[e,t]=b.useState(!1),r=y(),n=r.pathname.includes("/cancel-booking");b.useEffect((()=>{t(!1)}),[r]);const o=e=>{const r=document.getElementById(e.replace("#",""));if(r){const e=-72,n=r.getBoundingClientRect().top+window.pageYOffset+e;window.scrollTo({top:n,behavior:"smooth"}),t(!1)}};return l.jsx("nav",{className:"sticky top-0 z-50 py-3 bg-background-light/80 dark:bg-stone-900/80 backdrop-blur-lg border-b border-border-light dark:border-stone-800 shadow-sm",children:l.jsxs("div",{className:"container px-4 mx-auto relative",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"flex items-center flex-shrink-0",children:l.jsx(E,{to:"/",className:"flex items-center",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:l.jsx("img",{className:"h-10 sm:h-14 w-auto object-contain\n                         dark:[filter:brightness(0)_invert(1)_brightness(100%)_contrast(100%)]\n                         transition-[filter] duration-300",src:"/assets/images/png_markato-BDa3gsKr.png",alt:"Markato Auto Detail"})})}),!n&&l.jsxs(l.Fragment,{children:[l.jsx("ul",{className:"hidden lg:flex space-x-8 text-sm",children:M.map(((e,t)=>l.jsx("li",{children:l.jsx(E,{to:e.href,onClick:()=>o(e.href),className:"text-content-DEFAULT hover:text-red-600\n                        dark:text-stone-400 dark:hover:text-red-500\n                        transition-colors cursor-pointer",children:e.label})},t)))}),l.jsx("button",{onClick:()=>t(!e),className:"lg:hidden p-1.5 text-content-DEFAULT dark:text-stone-400\n                  hover:bg-background-dark dark:hover:bg-stone-800\n                  rounded-md transition-colors","aria-label":e?"Close menu":"Open menu",children:e?l.jsx(p,{size:22}):l.jsx(x,{size:22})})]})]}),!n&&e&&l.jsx("div",{className:"absolute inset-x-0 top-full bg-background-light dark:bg-stone-900 border-b border-border-light dark:border-stone-800 shadow-lg lg:hidden animate-in slide-in-from-top duration-200",children:l.jsx("ul",{className:"py-2",children:M.map(((e,t)=>l.jsx("li",{children:l.jsx(E,{to:e.href,onClick:()=>o(e.href),className:"block px-4 py-2 text-content-DEFAULT dark:text-stone-400\n                      hover:bg-background-dark dark:hover:bg-stone-800\n                      hover:text-red-600 dark:hover:text-red-500\n                      transition-colors",children:e.label})},t)))})})]})})},G=()=>l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 \n                  border-primary-light dark:border-orange-500"}),l.jsx("span",{className:"ml-2 text-content-light dark:text-stone-400",children:"Loading..."})]}),J={set:(e,t,r=60)=>{const n={value:t,expiry:(new Date).getTime()+60*r*1e3};localStorage.setItem(e,JSON.stringify(n))},get:e=>{const t=localStorage.getItem(e);if(!t)return null;const r=JSON.parse(t);return(new Date).getTime()>r.expiry?(localStorage.removeItem(e),null):r.value},clearExpired:()=>{Object.keys(localStorage).forEach((e=>{J.get(e)}))}},K={metrics:{},startTiming:e=>{K.metrics[e]=performance.now()},endTiming:e=>{if(!K.metrics[e])return 0;const t=performance.now()-K.metrics[e];return delete K.metrics[e],t},logPerformance:e=>{}},q=b.lazy((()=>A((()=>import("./chunk/Login-BGKHkMHx.js")),__vite__mapDeps([0,1,2,3])))),Q=b.lazy((()=>A((()=>import("./chunk/admin-CJnNjYBT.js")),__vite__mapDeps([4,1,2,5,3])))),X=b.lazy((()=>A((()=>import("./chunk/HeroSection-CznfgQ71.js")),__vite__mapDeps([6,1,2])))),Z=b.lazy((()=>A((()=>import("./chunk/FeatureSection-CHv7s6k5.js")),__vite__mapDeps([7,1,2,3])))),ee=b.lazy((()=>A((()=>import("./chunk/Workflow-CNxgRWXi.js")),__vite__mapDeps([8,1,2,3])))),te=b.lazy((()=>A((()=>import("./chunk/Footer-DOVtYova.js")),__vite__mapDeps([9,1,2])))),re=b.lazy((()=>A((()=>import("./chunk/BookingComponent-BLYLRsJJ.js")),__vite__mapDeps([10,1,2,5,3])))),ne=b.lazy((()=>A((()=>import("./chunk/BusinessMap-LOgCXU6v.js")),__vite__mapDeps([11,1,2,12])))),oe=b.lazy((()=>A((()=>import("./chunk/CancellationPage-B17oYJm7.js")),__vite__mapDeps([13,1,2,3])))),se=({children:e})=>l.jsxs(l.Fragment,{children:[l.jsx(W,{}),l.jsx("div",{className:"max-w-7xl mx-auto pt-10 px-6",children:e}),l.jsx(te,{})]}),ie=()=>(b.useEffect((()=>(K.startTiming("appMount"),()=>{K.endTiming("appMount")})),[]),b.useEffect((()=>{const e=setInterval((()=>{J.clearExpired()}),36e5);return()=>clearInterval(e)}),[]),l.jsx(S,{children:l.jsx($,{children:l.jsx(B,{children:l.jsx(C,{children:l.jsxs(b.Suspense,{fallback:l.jsx("div",{className:"flex justify-center items-center min-h-screen",children:l.jsx(G,{})}),children:[l.jsx(z,{}),l.jsxs(N,{children:[l.jsx(_,{path:"/login",element:l.jsx(q,{})}),l.jsx(_,{path:"/admin/*",element:l.jsx(V,{children:l.jsx(Q,{})})}),l.jsx(_,{path:"/",element:l.jsxs(se,{children:[l.jsx(X,{}),l.jsxs("div",{className:"mb-10",id:"booking-section",children:[l.jsx("h2",{className:"text-3xl sm:text-5xl lg:text-6xl text-center mb-6 tracking-wide",children:"Book Your Service"}),l.jsx(re,{})]}),l.jsx("div",{id:"workflow-section",className:"mb-10",children:l.jsx(ee,{})}),l.jsx(Z,{}),l.jsx(ne,{})]})}),l.jsx(_,{path:"/cancel-booking/:confirmationNumber/:email",element:l.jsx(se,{children:l.jsx(oe,{})})}),l.jsx(_,{path:"*",element:l.jsx(se,{children:l.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center",children:[l.jsx("h1",{className:"text-4xl font-bold text-content-dark dark:text-white mb-4",children:"Page Not Found"}),l.jsx("p",{className:"text-content-light dark:text-stone-400 mb-8",children:"The page you're looking for doesn't exist."}),l.jsx(E,{to:"/",className:"px-6 py-3 bg-primary-light dark:bg-orange-500 text-white rounded-lg \n                                   hover:bg-primary-DEFAULT dark:hover:bg-orange-600 transition-colors",children:"Return Home"})]})})})]})]})})})})}));a(void 0,null,(function*(){if("serviceWorker"in navigator)try{return yield navigator.serviceWorker.register("/sw.js")}catch(e){return null}return null})),O.createRoot(document.getElementById("root")).render(l.jsx(I.StrictMode,{children:l.jsx(ie,{})}));export{D as C,C as S,R as a,L as b,H as c,Y as f,U as u};
